% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/methods-prepare-objects.r
\name{prepare_hyper}
\alias{prepare_hyper}
\title{Prepare and Complete Hyperparameters for SAEM Variable Selection}
\usage{
prepare_hyper(hyper, data, model)
}
\arguments{
\item{hyper}{A \code{saemvsHyperSlab} object containing the current hyperparameters.}

\item{data}{A \code{saemvsProcessedData} object containing the processed data for the algorithm.}

\item{model}{A \code{saemvsModel} object representing the model structure.}
}
\value{
A \code{saemvsHyperSlab} object with completed and validated hyperparameters.
}
\description{
This internal function completes and validates the hyperparameters of a
\code{saemvsHyperSlab} object according to the processed data and model.
For parameters subject to selection (MAP case), it ensures that the prior
inclusion probabilities \code{a} and \code{b} are set correctly.
In the case where no parameter is selected (MLE case), it returns
a default hyperparameter object with NULL fields.
}
\details{
\itemize{
\item If no parameters are subject to selection (\code{length(model@phi_to_select_idx) == 0}),
the function returns \code{saemvsHyperSlab(NULL, NULL, NULL)}.
\item If some parameters are subject to selection, it fills missing \code{inclusion_prob_prior_a}
and \code{inclusion_prob_prior_b} with default values (\code{1} and number of candidates, respectively),
and checks their length consistency.
\item Stops with a descriptive error if the provided prior vectors have inconsistent lengths.
}
}
\examples{
\dontrun{
hyper <- saemvsHyperSlab(NULL, NULL, NULL)
data_processed <- prepare_data(data, model)
hyper_completed <- prepare_hyper(hyper, data_processed, model)
}

}
