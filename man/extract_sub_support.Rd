% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/matrix-utils.r
\name{extract_sub_support}
\alias{extract_sub_support}
\title{Extract a sub-support matrix by column indices}
\usage{
extract_sub_support(support, idx)
}
\arguments{
\item{support}{A numeric matrix or \code{NULL}, representing a covariate
support structure. Must have nonzero dimensions to be non-empty.}

\item{idx}{An integer or numeric vector of column indices to extract.}
}
\value{
A numeric matrix containing the selected columns of \code{support},
or \code{NULL} if the input is empty, indices are invalid, or the extracted
submatrix contains only zeros.
}
\description{
This internal utility function extracts a subset of columns from a
covariate-support matrix. If the resulting submatrix is empty, invalid,
or contains only zeros, \code{NULL} is returned.
}
\details{
The function is primarily designed to manipulate support matrices
representing covariate selection patterns. It ensures consistent
handling of empty inputs:
\itemize{
\item If \code{support} is empty according to
\code{\link{is_empty_support}}, the result is \code{NULL}.
\item If \code{idx} is \code{NULL} or has length zero, the result is
\code{NULL}.
\item If the extracted submatrix contains only zeros, the result is
\code{NULL}.
}
}
\examples{
\dontrun{
supp <- matrix(c(1, 0, 0, 1, 0, 0), nrow = 2, byrow = TRUE)

extract_sub_support(supp, 1) # Returns matrix with first column
extract_sub_support(supp, 2:3) # Returns NULL if only zeros
extract_sub_support(NULL, 1) # Returns NULL
}
}
\seealso{
\code{\link{is_empty_support}}
}
\keyword{internal}
